<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>뷰 기초 익히기 - watch 속성</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>
  <div id="app">
    {{message}}<br>
    <button @click="changeMessage">Click</button><br>
    {{updated}}
  </div>
  </div>
  <script>
    new Vue({
      el: "#app",
      data: {
        message: '헬로우',
        updated: '아니요',
      },
      methods: {
        //메소드를 호출하면 렌더링을 다시 할 때마다 항상 함수를 실행
        changeMessage() {
          this.message = '코지코더';
        },
      },
      computed: {
        //computed 속성은 한번만 계산하고 저장(캐싱)되어 저장된 값 사용
        //해당 속성이 종속된 대상이 변경될 때만 함수를 실행
        reversedMessage() {
          //message가 변경되지 않는 한, reversedMessage를 여러번 요청해도 계산을 다시하지 않고 계산되어 있던 결과를 즉시 반환
          return this.message.split('').reverse().join('')//message를 역순으로 표시
        }
      },
      watch: {
        //감시할 데이터를 지정하면 데이터가 변경되었을 때 실행
        message(newVal, oldVal) { 
          console.log(newVal, oldVal);
          this.updated = "네";
        }
      }
    });
  </script>
</body>

</html>